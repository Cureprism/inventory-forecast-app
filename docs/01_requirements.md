# 要件定義書

## 1. 背景
在庫を手作業やスプレッドシートで管理している小規模事業者では、  
在庫数の把握や補充タイミングの判断が属人的になりやすく、  
欠品や過剰在庫の発生につながる課題がある。  
これを改善するため、入出庫データをもとに在庫状況を可視化し、  
簡易的な需要予測を行う在庫管理システムを構築する。

## 2. 目的
本システムは、商品ごとの在庫を一元管理し、  
入出庫履歴から算出した在庫推移および軽量な在庫予測を提供することで、  
補充判断を支援し、在庫管理業務の効率化を図る。

## 3. 想定ユーザー
- 小規模小売業・個人事業主  
- 倉庫・仕入れ管理担当者

## 4. 機能一覧
| 機能区分 | 機能名 | 概要 |
|------------|----------|------|
| 商品管理 | 商品登録・編集・削除 | 商品情報（名称、SKU、安全在庫など）の管理 |
| 入出庫管理 | 入庫・出庫登録 | 商品ごとの入出庫履歴を登録・表示 |
| 在庫管理 | 在庫一覧表示 | 入出庫データを集計して現在庫を算出 |
| 在庫予測 | 需要傾向算出 | 直近の販売・出庫データをもとにSMA＋曜日補正で在庫推移を予測 |
| アラート | 欠品見込み表示 | 安全在庫を下回る見込みがある場合に警告表示 |

## 5. 非機能要件
| 項目 | 内容 |
|------|------|
| 開発環境 | Laravel 12 / PHP 8.3 / MySQL 8 |
| データ規模 | 数百件規模の履歴データでの運用を想定 |
| 性能 | 在庫一覧・予測処理を3秒以内で応答 |
| セキュリティ | HTTPS対応・入力バリデーション・CSRF対策 |
| 運用環境 | Render（無料プラン）またはローカル環境 |
| 保守性 | Laravel標準構造（MVC）を維持し、拡張容易性を確保 |
| **認証** | Laravel Breezeによるログイン認証を導入。認証済ユーザーのみが在庫管理機能にアクセス可能。 |
| **アカウント管理** | 一般登録を無効化し、管理者のみが新規ユーザーを登録可能とする。 |
| **権限区分** | usersテーブルに`role`カラムを設け、`admin`と`user`で操作範囲を分離する。 |


## 6. システム構成
- フロントエンド：Bladeテンプレート＋Bootstrap  
- サーバーサイド：Laravelコントローラ、サービス層  
- データベース：MySQL  
- 予測処理：Laravelサービスクラス内で実装（移動平均＋曜日補正）

## 7. 成果物
- 在庫管理・予測Webアプリケーション  
- 設計ドキュメント（要件定義、データ設計）  
- デモ環境（Render公開想定）

